/*! fuzzy-finder-wp 2015-07-17 */
var ffwp_finder=ffwp_finder||{};jQuery(document).ready(function(a){ffwp_finder.init=function(){this.results=[],this.cache=this.cache||{},this.cache.body=a("body"),this.cache.finder=a("#ffwp-finder"),this.cache.search=this.cache.finder.find("#ffwp-search"),this.cache.results=this.cache.finder.find(".ffwp-results"),this.cache.body.on("keyup",this.handleShortcuts),this.cache.search.on("keyup",this.search)},ffwp_finder.open=function(){ffwp_finder.cache.body.addClass("ffwp-finder-is-visible"),ffwp_finder.cache.finder.addClass("is-visible"),setTimeout(function(){ffwp_finder.cache.search.focus()},300)},ffwp_finder.close=function(){ffwp_finder.cache.body.removeClass("ffwp-finder-is-visible"),ffwp_finder.cache.finder.removeClass("is-visible"),setTimeout(function(){ffwp_finder.cache.search.val(""),ffwp_finder.clearResults()},300)},ffwp_finder.handleShortcuts=function(a){return a.ctrlKey&&a.shiftKey&&70==a.which?void ffwp_finder.open():27==a.which&&ffwp_finder.cache.finder.hasClass("is-visible")?void ffwp_finder.close():void 0},ffwp_finder.search=function(){var a=ffwp_finder.cache.search.val();if(ffwp_finder.current_term=a,a.length<3)return void ffwp_finder.clearResults();for(var b=ffwp_finder.results.length-1;b>=0;b--)new RegExp(a,"i").test(ffwp_finder_settings.strings[ffwp_finder.results[b]])||ffwp_finder.removeResult(ffwp_finder.results[b]);for(var c=0;c<ffwp_finder_settings.strings.length&&a===ffwp_finder.current_term;c++)new RegExp(a,"i").test(ffwp_finder_settings.strings[c])&&ffwp_finder.addResult(c)},ffwp_finder.addResult=function(a){if(-1===ffwp_finder.results.indexOf(a)){ffwp_finder.results.push(a);var b=ffwp_finder_settings.result_template.replace("{url}",ffwp_finder_settings.urls[a]).replace("{string}",ffwp_finder_settings.strings[a]).replace("{index}",a.toString());ffwp_finder.cache.results.append(b)}},ffwp_finder.removeResult=function(a){var b=ffwp_finder.results.indexOf(a);b>-1&&ffwp_finder.results.splice(b,1),ffwp_finder.cache.results.find("#ffwp-result-"+a.toString()).remove()},ffwp_finder.clearResults=function(){ffwp_finder.results=[],ffwp_finder.cache.results.empty()},ffwp_finder.init()});